# Libajax плагин для CakePHP

Отправляет и принимает данные от AJAX-запроса.

## Инсталяция

Вы можете установить этот плагин в свое приложение CakePHP с помощью [composer](https://getcomposer.org).

Установка плагина:

```
$ sudo composer require valeriy-brunov/libajax
$ sudo composer dumpautoload
```

#### Инициализация

Данный плагин, реализованный в виде виджета jQuery, необходимо наследовать и включать в страницу перед наследуемым кодом. Например:

```
$.widget( "namespace.nameWidget", $.lib.ajax, {});
```

#### Описание работы виджета.

В данном виджете используется метод разделения параллельных запросов путём идентификации каждого отдельного запроса к серверу. Это значит, что каждый параллельный запрос обрабатывается отдельно, имеет свой обработчик приёма ответа от сервера. Идентификатором может быть любая строка, придуманная произвольно. Идентификатор задаёт имя метода, который будет принимать и обрабатывать данные AJAX-запроса. Например, если у нас идентификатор задан строкой 'mymethod', то метод, который принимает данные от AJAX-запроса будет следующим:

```
_mymethodSuccess
```

Метод, который сработает перед отправкой AJAX-запроса:

```
_mymethodSend
```

Данный виджет содержит следующие виды AJAX-запросов:
1. Простой AJAX-запрос с идентификатором;
2. Метод AJAX-запроса с блокировкой. Используется в том случае, когда во временном промежутке между AJAX-запросом и приёмом данных необходимо блокировать запросы к серверу. Причём блокировка действует на запросы с одинаковым идентификатором. Запросы имеющие разные идентификаторы не блокируют друг друга;
3. Метод AJAX-запроса с удаление "слушателя". В этом случае ответ отправляется серверу, но ответ не принимается. В этом случае не возможно определить об успешности выполнение запроса на сервере.
4. Метод AJAX-запроса по таймеру. В этом случае запрос к серверу выполняется через указанный промежуток времени. Причём отсчёт времени начинается после получения ответа от сервера, как успешного, так и закончивавшегося с ошибкой.







